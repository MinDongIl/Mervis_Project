[연구 일지] 2025-01-04

1. 주요 내용 머비스 지능형 분석 엔진 탑재 및 데이터 연동 버그 수정, 차기 개발 목표 수립.

2. 진행 요약 기존의 단순 등락폭 감지 수준이었던 봇에 pandas_ta 기반의 기술적 지표(RSI, MACD, MA50) 분석 능력을 탑재함. 또한 BigQuery와의 연동 과정에서 발생한 테이블 참조 오류 및 변수명 버그를 전면 수정하여, '채팅-분석-저장'으로 이어지는 데이터 파이프라인을 정상화함.

3. 주요 수정 및 개발 내용

Brain (하이브리드 엔진): Python이 수학적 지표(RSI, MACD)를 계산하고, Gemini가 이를 해석하여 전략을 제시하는 구조로 개편.

DB/AI 연동 안정화: mervis_bigquery.py의 Fallback 로직(최신 테이블 부재 시 과거 기록 조회) 추가로 채팅 모드의 연속성 확보.

로깅 시스템 개선: 콘솔 출력을 최소화하고 mervis.log 파일로 이관하여 백그라운드 운용 환경 최적화.

4. 시행 착오 및 오류 해결

[오류] 채팅 모드에서 추천 요청 시 [BQ Error] 발생 (Dataset ID 미정의 및 테이블 404).

[해결] 누락된 전역 변수(DATASET_ID) 선언 및 데이터 조회 시 최신 테이블과 과거 히스토리 테이블을 순차적으로 탐색하는 로직 적용.

[한계] 현재 구조상 사용자가 채팅으로 특정 가격대 알림을 설정해도, 실시간 감시 모듈(WebSocket)에 전달되지 않는 한계 확인.

5. 다음 목표 (내일 진행)

대화형 알림 설정 구현: AI가 사용자의 '가격 알림' 요청을 해석해 감시 모듈에 명령을 하달하는 기능 개발.

자기주도 학습(Self-Learning): 과거 예측 결과(승/패)를 검증하고 이를 다음 분석에 반영하는 피드백 루프 구축.