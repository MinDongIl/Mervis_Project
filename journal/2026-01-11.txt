[연구 일지] 2026-01-11

1. 주요 내용
GUI 시스템 완성도 제고(자산 현황, 웹소켓 완전 통합), 기술적 지표 고도화(윌리엄스 프랙탈, 다중 이평선) 및 실행 파일(EXE) 배포 환경 구축.

2. 진행 요약
GUI의 뼈대를 넘어 실제 매매와 모니터링이 가능한 수준으로 기능을 확장함. '자산 현황' 화면을 통해 실시간 계좌 잔고와 수익률을 시각화했고, CLI에 있던 학습 및 데이터베이스 갱신 로직을 GUI 구동 시 백그라운드 워커로 이식하여 편의성을 극대화함. 또한, 윌리엄스 프랙탈과 5중 이동평균선을 시각화 로직에 추가하여 차트 분석력을 강화했으며, 최종적으로 독립 실행 가능한 EXE 빌드 파이프라인을 수립함.

3. 주요 수정 및 개발 내용
GUI 기능 확장 및 구조 개선 자산 현황 위젯(AssetWidget): 단순 텍스트가 아닌, 요약 패널과 보유 종목 테이블(QTableWidget)을 결합하여 가독성을 높임. 등락률에 따른 색상(Red/Blue) 자동 서식 적용. 시스템 초기화 워커(SystemInitWorker): 기존 CLI의 부팅 로직(DB 업데이트, 매매 복기)을 별도 스레드로 분리. GUI 실행 시 UI 프리징(멈춤) 없이 백그라운드에서 학습과 데이터 갱신을 수행하도록 아키텍처 개선.

기술적 분석 및 시각화
(Technical & Painter) 윌리엄스 프랙탈(Williams Fractal): 루프(Loop) 방식 대신 Pandas의 shift()를 활용한 벡터 연산으로 고속 처리 구현. 고점(매도/파란 역삼각형)과 저점(매수/빨간 정삼각형)을 차트상 캔들과 겹치지 않게 오프셋(Offset)을 주어 시각화. 다중 이동평균선: 5, 20, 50, 100, 200일선을 각기 다른 색상과 두께로 시각화하여 장단기 추세를 한눈에 파악하도록 구현.

배포 환경 구축 빌드 자동화(Build Script): python -m PyInstaller 명령어를 캡슐화한 build.bat 스크립트 작성. 아이콘(.ico) 적용 및 콘솔 숨김 옵션(--noconsole)을 적용하여 원클릭 실행 파일 생성 환경 마련.

4. 시행 착오 및 오류 해결
[차트 로더 인자 불일치 오류] 증상: 메인 GUI에서 차트 뷰로 등락률(change_rate)을 전달하려 했으나, load_data 메서드가 해당 인자를 받지 못해 TypeError 발생. 해결: chart_view.py의 load_data 메서드 시그니처를 수정하여 등락률 인자를 명시적으로 받고, UI 라벨에 색상 코드를 적용하여 표시하도록 수정.

[라이브러리 경로 인식 문제] 증상: 터미널에서 pip install 및 pyinstaller 명령어를 실행했을 때 경로를 찾지 못하는(Command not found) 현상 발생. 해결: python -m 접두어를 사용하여 현재 파이썬 환경의 모듈로서 실행되도록 명령어를 수정하여 해결.

[초기화 로직 통합 이슈] 고민: 기존 CLI(main.py)와 GUI(main_gui.py)를 병행 사용할 경우 웹소켓 충돌 및 데이터 정합성 문제 우려. 결정: GUI가 메인 시스템이므로, CLI에 있던 '시스템 초기화 및 학습' 로직을 GUI의 SystemInitWorker로 완전히 통합 이식.

5. 다음 목표
보조지표 설정 화면(Indicator View) 구현: 사용자가 체크박스로 원하는 전략(프랙탈, RSI 등)을 켜고 끌 수 있는 UI 완성 및 상태(State) 연동. 설정(Settings) 화면 구현: API 키 관리, 테마 변경 등 시스템 설정 기능 추가.